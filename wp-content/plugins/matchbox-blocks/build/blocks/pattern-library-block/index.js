(()=>{"use strict";const t=window.wp.blocks,e=window.wp.primitives,o=window.ReactJSXRuntime,r=(0,o.jsx)(e.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(e.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"})}),a=window.wp.i18n,c=JSON.parse('{"UU":"matchbox/pattern-library-block"}'),l=window.wp.blockEditor,i=window.wp.element,n=window.wp.components,d=function(){const[t,e]=(0,i.useState)((()=>{const t=localStorage.getItem("matchbox-pattern-modal");return"yes"===t||"no"!==t&&(null===t?(localStorage.setItem("matchbox-pattern-modal","yes"),!0):void 0)}));return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)(n.Modal,{className:"matchbox-pattern-modal",title:"Matchbox Pattern Library",onRequestClose:()=>{e(!1)},children:(0,o.jsx)("div",{className:"matchbox-modal-container",children:(0,a.__)("The Matchbox Patterns will appear here.","matchbox")})}):null})},s=window.wp.plugins,b=window.wp.data;(0,s.getPlugin)("matchbox-toolbar-library-plugin")||(0,s.registerPlugin)("matchbox-toolbar-library-plugin",{render:function(){const t=wp.data.select("core/edit-site"),e=()=>(0,o.jsx)(o.Fragment,{children:void 0===t&&(0,o.jsx)(n.ToolbarButton,{icon:r,className:"matchbox-toolbar-button",label:(0,a.__)("Matchbox Pattern Library","matchbox-pro"),onClick:()=>{const t=wp.data.select("core/block-editor").getSelectedBlock(),e=wp.blocks.createBlock("matchbox/pattern-library-block");if(null!==t){if("matchbox/pattern-library-block"===t.name)return;const o=wp.data.select("core/block-editor").getBlockOrder().indexOf(t.clientId)+1;wp.data.dispatch("core/block-editor").insertBlock(e,o)}else wp.data.dispatch("core/block-editor").insertBlock(e)}})});return(0,b.subscribe)((()=>{const t=document.querySelector(".edit-post-header-toolbar");t&&(t.querySelector(".matchbox-toolbar-library")||(t=>{const r=document.createElement("div");r.classList.add("matchbox-toolbar-library"),t.appendChild(r),(0,i.render)((0,o.jsx)(e,{}),r)})(t))})),null}});const h=window.wp.keyboardShortcuts;(0,s.getPlugin)("matchbox-add-library-shortcut-plugin")||(0,s.registerPlugin)("matchbox-add-library-shortcut-plugin",{render:()=>{const t=wp.data.select("core/edit-site"),{registerShortcut:e}=(0,b.useDispatch)("core/keyboard-shortcuts");return void 0===t&&e({name:"matchbox-add-library",category:"global",description:"Inserts the Matchbox Pattern Library block into the editor.",keyCombination:{modifier:"ctrl",character:"o"}}),(0,h.useShortcut)("matchbox-add-library",(0,i.useCallback)((()=>{const t=wp.data.select("core/block-editor").getSelectedBlock(),e=wp.blocks.createBlock("matchbox/pattern-library-block");if(null!==t){if("matchbox/pattern-library-block"===t.name)return;const o=wp.data.select("core/block-editor").getBlockOrder().indexOf(t.clientId)+1;wp.data.dispatch("core/block-editor").insertBlock(e,o)}else wp.data.dispatch("core/block-editor").insertBlock(e)}),[])),null}}),(0,t.getBlockType)("matchbox/pattern-library-block")||(0,t.registerBlockType)(c.UU,{title:(0,a.__)("Matchbox Pattern Library","matchbox"),icon:r,edit:function(){return(0,o.jsxs)("div",{...(0,l.useBlockProps)(),children:[(0,o.jsx)(d,{}),(0,o.jsx)("h1",{children:(0,a.__)("Hello from the Matchbox Pattern Library","matchbox")})]})},save:function(){return null}})})();